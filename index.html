<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spinning Adnan - Chaos Mode</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        body {
            background: radial-gradient(ellipse at center, #1a0033 0%, #000000 100%);
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .microbe {
            position: absolute;
            border-radius: 50%;
            opacity: 0.6;
            animation: float 10s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, -30px) rotate(90deg); }
            50% { transform: translate(-20px, -50px) rotate(180deg); }
            75% { transform: translate(-30px, 20px) rotate(270deg); }
        }

        #adnan {
            position: absolute;
            width: 150px;
            height: auto;
            pointer-events: none;
            user-select: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        .flash {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: flash-fade 0.3s ease-out forwards;
        }

        @keyframes flash-fade {
            from {
                opacity: 0.8;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(3);
            }
        }
    </style>
</head>
<body>
    <img id="adnan" src="adnan spinning bg transparent.png" alt="Spinning Adnan">

    <script>
        const adnan = document.getElementById('adnan');

        // Position et vélocité initiales (angle à 45°)
        let x = Math.random() * (window.innerWidth - 150);
        let y = Math.random() * (window.innerHeight - 150);

        // Démarrer avec un angle à 45°
        const initialSpeed = 8 + Math.random() * 4;
        const angles45Init = [
            { dx: 1, dy: -1 },  // Haut-droite
            { dx: 1, dy: 1 },   // Bas-droite
            { dx: -1, dy: -1 }, // Haut-gauche
            { dx: -1, dy: 1 }   // Bas-gauche
        ];
        const initialDirection = angles45Init[Math.floor(Math.random() * angles45Init.length)];
        let dx = initialDirection.dx * initialSpeed;
        let dy = initialDirection.dy * initialSpeed;

        let rotation = 0;
        let rotationSpeed = (Math.random() - 0.5) * 20;
        let hue = 0; // Pour le changement de couleur

        // Audio Context pour les sons
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        // Fonction pour jouer un son d'explosion
        function playExplosionSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            // Son grave explosif
            oscillator.frequency.setValueAtTime(100, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(20, audioContext.currentTime + 0.2);

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

            oscillator.type = 'sawtooth';
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        // Fonction pour créer une explosion de particules
        function createExplosion(posX, posY) {
            const colors = ['#ff0000', '#ff6600', '#ffff00', '#ff3300', '#ff9900'];
            const particleCount = 20 + Math.random() * 20;

            // Flash lumineux
            const flash = document.createElement('div');
            flash.className = 'flash';
            flash.style.left = (posX + 75) + 'px';
            flash.style.top = (posY + 75) + 'px';
            flash.style.width = '100px';
            flash.style.height = '100px';
            flash.style.background = `radial-gradient(circle, rgba(255,255,100,0.8), rgba(255,100,0,0.3), transparent)`;
            document.body.appendChild(flash);

            setTimeout(() => flash.remove(), 300);

            // Particules
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const size = Math.random() * 8 + 4;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.left = (posX + 75) + 'px';
                particle.style.top = (posY + 75) + 'px';

                document.body.appendChild(particle);

                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 10 + 5;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;

                animateParticle(particle, vx, vy);
            }
        }

        // Fonction pour animer une particule
        function animateParticle(particle, vx, vy) {
            let px = parseFloat(particle.style.left);
            let py = parseFloat(particle.style.top);
            let opacity = 1;
            let life = 0;

            function updateParticle() {
                life++;
                px += vx;
                py += vy;
                opacity -= 0.02;

                particle.style.left = px + 'px';
                particle.style.top = py + 'px';
                particle.style.opacity = opacity;

                if (opacity > 0 && life < 100) {
                    requestAnimationFrame(updateParticle);
                } else {
                    particle.remove();
                }
            }

            updateParticle();
        }

        function animate() {
            // Mettre à jour la position (effet DVD classique!)
            x += dx;
            y += dy;
            rotation += rotationSpeed;

            // Rebonds style DVD - inversion simple de la direction
            if (x <= 0 || x >= window.innerWidth - 150) {
                x = Math.max(0, Math.min(window.innerWidth - 150, x));

                // Effet DVD: on inverse seulement la direction horizontale
                dx = -dx;

                // Changement de couleur!
                hue = Math.random() * 360;

                // EXPLOSION!
                createExplosion(x, y);
                playExplosionSound();
            }

            if (y <= 0 || y >= window.innerHeight - 150) {
                y = Math.max(0, Math.min(window.innerHeight - 150, y));

                // Effet DVD: on inverse seulement la direction verticale
                dy = -dy;

                // Changement de couleur!
                hue = Math.random() * 360;

                // EXPLOSION!
                createExplosion(x, y);
                playExplosionSound();
            }

            // Appliquer les transformations
            adnan.style.left = x + 'px';
            adnan.style.top = y + 'px';
            adnan.style.transform = `rotate(${rotation}deg)`;
            adnan.style.filter = `hue-rotate(${hue}deg) saturate(1.5)`;

            requestAnimationFrame(animate);
        }

        // Gérer le redimensionnement de la fenêtre
        window.addEventListener('resize', () => {
            x = Math.min(x, window.innerWidth - 150);
            y = Math.min(y, window.innerHeight - 150);
        });

        // Démarrer l'animation avec un clic pour activer l'audio
        document.body.addEventListener('click', () => {
            audioContext.resume();
        }, { once: true });

        // Créer les étoiles de la galaxie
        function createStars() {
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                document.body.appendChild(star);
            }
        }

        // Créer les microbes flottants
        function createMicrobes() {
            const microbeColors = ['#00ff88', '#ff00ff', '#00ffff', '#ffff00', '#ff6600'];
            for (let i = 0; i < 30; i++) {
                const microbe = document.createElement('div');
                microbe.className = 'microbe';
                microbe.style.left = Math.random() * 100 + '%';
                microbe.style.top = Math.random() * 100 + '%';
                const size = Math.random() * 15 + 5;
                microbe.style.width = size + 'px';
                microbe.style.height = size + 'px';
                microbe.style.background = microbeColors[Math.floor(Math.random() * microbeColors.length)];
                microbe.style.animationDuration = (Math.random() * 10 + 5) + 's';
                microbe.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(microbe);
            }
        }

        // Initialiser la galaxie
        createStars();
        createMicrobes();

        // Démarrer l'animation
        animate();
    </script>
</body>
</html>
